<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
var xhr;
var cnt=0;
var result;
function io(){
	// 비동기통신
	// readyStatus
	//  0 (uninitialized) - (request가 초기화되지 않음)
	//	1 (loading) - (서버와의 연결이 성사됨)
	//	2 (loaded) - (서버가 request를 받음)
	//	3 (interactive) - (request(요청)을 처리하는 중)
	//	4 (complete) - (request에 대한 처리가 끝났으며 응답할 준비가 완료됨)
	
	xhr= new XMLHttpRequest();//통신용 객체
	
	xhr.onreadystatechange=function(){
		console.log(xhr.readyState,xhr.status);
		if(xhr.readyState==4){
			if(xhr.status==200){
				var msg=xhr.responseText;
				result.innerHTML=msg;				
			}else{
				alert('err');
			}
//		}else{
//			alert('에러');
		}
		
	};
	xhr.open('get','ex02.jsp');
	xhr.send();//통신실행
}
	window.onload=function(){
		result=document.querySelector("h1+p");
		result.onclick=function(){
		//	window.location.href='ex01.jsp';
			io();
		};
		
	};
</script>
</head>
<body>
	<h1>자바 스크립트 통신</h1>
	<p>result</p>
	<p><a href="ex01.jsp">link</a></p>
	<p>자바스크립트의 기본 통신방식은 비동기 통신입니다.</p>
	
</body>
</html>